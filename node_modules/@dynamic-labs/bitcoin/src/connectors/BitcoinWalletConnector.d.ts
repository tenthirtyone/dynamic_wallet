/// <reference types="node" />
/// <reference types="node" />
import { EventEmitter } from 'stream';
import type { Wallet } from '@wallet-standard/base';
import { Chain, IBitcoinWalletConnector, WalletConnectorBase } from '@dynamic-labs/wallet-connector-core';
import { WalletBookSchema, WalletSchema } from '@dynamic-labs/wallet-book';
import { JwtVerifiedCredential, WalletAdditionalAddress } from '@dynamic-labs/sdk-api-core';
import { IBitcoinSessionCache } from '../BitcoinLocalStorageCache';
import { BitcoinTransaction, BitcoinSignPsbtRequest, BitcoinSignPsbtResponse, BitcoinWalletStandardMethods, ConnectedAccountWithAddressesProps } from '../types';
export type BitcoinWalletConnectorOpts = {
    walletBook: WalletBookSchema;
    walletData: WalletSchema;
    overrideKey?: string;
};
export declare abstract class BitcoinWalletConnector extends WalletConnectorBase implements IBitcoinWalletConnector {
    cache: IBitcoinSessionCache;
    connectedChain: Chain;
    supportedChains: Chain[];
    private getAddressPromise;
    private bitcoinProviderHelper;
    wallet: Wallet | undefined;
    walletMethods: BitcoinWalletStandardMethods | undefined;
    canFetchConnectedAccounts: boolean;
    isHardwareWalletEnabled: boolean;
    verifiedCredentials: JwtVerifiedCredential[];
    private lastAccountChange;
    constructor(opts: BitcoinWalletConnectorOpts);
    private isSameAccountChangeRequest;
    private setLastAccountChangeRequest;
    clearConnectedAccounts(): Promise<void>;
    canConnectWithHardwareWallet(): boolean;
    isInstalledOnBrowser(): boolean;
    getDeepLink(): string | undefined;
    endSession(): Promise<void>;
    getBalance(): Promise<string | undefined>;
    getConnectedAccountsFromCache(): Promise<string[]>;
    getConnectedAccounts(): Promise<string[]>;
    getAdditionalAddresses(mainAddress?: string): Promise<WalletAdditionalAddress[]>;
    setAdditionalAddresses(mainAddress: string, additionalAddresses: WalletAdditionalAddress[]): Promise<void>;
    sendRawTransaction(rawTransaction: string): Promise<string | undefined>;
    abstract sendBitcoin(transaction: BitcoinTransaction): Promise<string | undefined>;
    getProvider<T>(): T & EventEmitter;
    abstract signPsbt(request: BitcoinSignPsbtRequest): Promise<BitcoinSignPsbtResponse | undefined>;
    setConnectedAccountWithAddresses({ mainAddress, ordinalsAddress, paymentAddress, active, }: ConnectedAccountWithAddressesProps): Promise<void>;
    setupEventListeners(): void;
    setVerifiedCredentials(verifiedCredentials: JwtVerifiedCredential[]): void;
    isLedgerAddress(address: string): boolean;
}
